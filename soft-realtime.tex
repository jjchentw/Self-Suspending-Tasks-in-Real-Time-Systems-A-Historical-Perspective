\section{Soft Real-Time Self-Suspending Task Systems}
\label{sec:soft-realtime}

The goal of real-time scheduling is to guarantee timing predictability; in other words, every task is schedulable if it meets the predefined timing constraints at design time. Being ``schedulable'' depends on whether task deadlines are hard or soft. 
For a hard real-time (HRT) task, its deadline must be met; while for a soft real-time (SRT) task, missing some deadlines can be tolerated. We assume a well-studied SRT notion that a SRT task is schedulable if its tardiness can be provably bounded. (Such bounds would be expected to be reasonably small.) A task's tardiness is defined to be its maximum job tardiness, which is calculated by a job's completion time minus the job's absolute deadline.

The schedulability analysis techniques on soft real-time self-suspending task systems can be categorized into two categories: suspension-oblivious analysis v.s. suspension-aware analysis.

\subsection{Suspension-oblivious analysis}
\label{sec:sus-oblivious-soft}

 The suspension-oblivious analysis simply treat all suspension as computation. From \cite{Devi2005,Leontyev072}, tardiness is bounded under a pure computational task system (no suspensions) provided $U_{sum} \leq m$ where $U_{sum}$ is the total utilization. A downside of treating all suspensions as computation is that this causes utilizations to be higher, which in many cases may cause total utilization to exceed $m$, where $m$ is the number of processors in the system.  This suspension-oblivious approach causes an $O(n)$ utilization loss, where $n$ denotes the number of self-suspending tasks in the system. 
 Due to the $O(n)$ utilization loss, the suspension-oblivious analysis is pessimistic. 

\subsection{Suspension-aware analysis}
\label{sec:sus-aware-soft}

Several recent works have been conducted to reduce this utilization loss by focusing on deriving suspension-aware analysis. The main difference between the suspension-aware and the suspension-oblivious analysis is that, under the suspension-aware analysis, suspensions are specifically considered in the task model as well as in the schedulability analysis. These works on conducting suspension-aware analysis techniques for soft real-time suspending task systems on multiprocessors are mainly done by Liu and Anderson~\cite{Liu3,Liu4,Liu5,Liu9,Liu11}. The main idea behind these techniques is that treating all suspensions as computation is pessimistic, instead, smartly treating a selective minimum set of suspensions as computation can significantly reduce the pessimism in the schedulability analysis. This is also the main reason why these techniques significantly improve upon the suspension-oblivious approach in most cases, and some of these techniques analytically dominate the suspension-oblivious approach, as to be briefly reviewed next.

In 2009, Liu and Anderson derived the first such schedulability test~\cite{Liu3}, where they showed that in fully-preemptive sporadic systems, bounded tardiness can be ensured by developing suspension-aware analysis under GEDF and GFIFO. Specifically it is shown in \cite{Liu3} that tardiness in such a system is bounded provided 
\begin{equation}\label{eq:constraint} U_{sum}^s + U_L^c < (1-\xi_{max}) \cdot m , \end{equation}
where $U_{sum}^s$ is the total utilization of all self-suspending tasks, $c$ is the number of computational tasks (which do not self-suspend), $m$ is the number of processors, $U_L^c$ is the sum of the $\min(m-1,c)$ largest computational task utilizations, and $\xi_{max}$ is a parameter ranging over $[0,1]$ called the \textit{maximum suspension ratio}, which is defined to be the maximum value among all tasks' suspension ratios. For any task $T_i$, its suspension ratio, denoted $\xi_i$, is defined to be $\xi_i = \dfrac{s_i}{s_i+e_i}$, where $s_i$ is $T_i$'s suspension length and $e_i$ is its execution cost.  Significant utilization loss may occur when using (\ref{eq:constraint}) if $\xi_{max}$ is large. Unfortunately, it is unavoidable that many self-suspending task systems will have large $\xi_{max}$ values. For example, consider a task system with three tasks scheduled on two processors: $T_1$ has an execution cost of 5, a suspension length of 5, and a period of 10, $T_2$ has an execution cost of 2, a suspension length of 0, and a period of 8, and $T_3$ has an execution cost of 2, a suspension length of 2, and a period of 8. For this system, $U_{sum}^s = u_1+u_3= \dfrac{5}{10} + \dfrac{2}{8} = 0.75$, $U_L^c = u_2 = \dfrac{2}{8} = 0.25$, $\xi_{max} = \xi_1 = \dfrac{5}{5+5} = 0.5$. Although the total utilization of this task system is only half of the overall processor capacity, it is not schedulable using the prior analysis since it violates the utilization constraint in (\ref{eq:constraint}) (since $U_{sum}^s+U_L^c =1=(1-\xi_{max}) \cdot m$).

In a follow-up work \cite{Liu5}, by observing that the utilization loss seen in (\ref{eq:constraint}) is mainly caused by a large value of $\xi_{max}$, Liu and Anderson present a technique that can effectively decrease the value of this parameter, thus increasing schedulability. They show that this can be done by treating \textit{partial} suspensions as computation. That is, they consider intermediate choices between the two currently-available extremes of treating \textit{all} (as is commonly done) or \textit{no} (using the analysis in ???Liu093) suspensions as computation. This approach is often able to decrease $\xi_{max}$ at the cost of at most a slight increase in the left side of (\ref{eq:constraint}). The authors present both a linear programming solution for determining how much suspension time to be treated as computation as well as an optimal algorithm that runs in $O((N^s)^2)$ time, where $N^s$ is the number of self-suspending tasks. The authors analyze the schedulability improvement brought by the proposed approach via an experimental study involving randomly-generated task systems. In all scenarios considered in this study, this approach was able to improve schedulability, and in most scenarios, by a substantial margin. 

In \cite{Liu4}, Liu and Anderson  show that any task system with self-suspensions, pipelines, and
non-preemptive sections can be transformed for analysis purposes into a system with only self-suspensions \cite{Liu4}. The transformation process treats delays caused by pipeline-based precedence constraints and non-preemptivity as self-suspension delays.
In \cite{Liu9,Liu11}, Liu and Anderson derive the first soft real-time schedulability test for suspending task systems that analytically dominates the suspension-oblivious approach. Specifically, they show that an $O(M)$ utilization loss (where $M$ is the number of processors) can be achieved under a new suspension-aware analysis technique. 



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "JRTS/JRTS.tex"
%%% End:


  
\section{Soft Real-Time Self-Suspending Task Systems}
\label{sec:soft-realtime}

For a hard real-time task, its deadline must be met; while for a soft real-time task, missing some deadlines can be tolerated. We assume a well-studied soft real-time notion, in which \emph{a soft real-time task is schedulable if its tardiness can be provably bounded}. (Such bounds would be expected to be reasonably small.) A task's tardiness is defined to be its maximum job tardiness, which is calculated as $0$ if the job finishes before its absolute deadline and a job's completion time minus the job's absolute deadline otherwise.
The schedulability analysis techniques on soft real-time self-suspending task systems can be categorized into two categories: suspension-oblivious analysis v.s. suspension-aware analysis.

\subsection{Suspension-Oblivious Analysis}
\label{sec:sus-oblivious-soft}

 The suspension-oblivious analysis simply treats the suspensions as computation, as also explained in Section~\ref{sec:oblivious}. From \cite{Devi2005,Leontyev072}, tardiness is bounded under a pure computational task system (no suspensions) provided $\sum_{i=1}^{n} (C_i+S_i)/T_i \leq M$, where $M$ is the number of processors in the system. A downside of treating all suspensions as computation is that this causes utilization bound to be $\sum_{i=1}^{n} S_i/T_i$ higher, which in many cases may cause total utilization to exceed $M$.  This suspension-oblivious approach causes an $O(n)$ utilization loss, where $n$ denotes the number of self-suspending tasks in the system. 
 Due to the $O(n)$ utilization loss, the suspension-oblivious analysis is pessimistic. 

\subsection{Suspension-Aware Analysis}
\label{sec:sus-aware-soft}

Several recent works have been conducted to reduce this utilization loss by focusing on deriving suspension-aware analysis. The main difference between the suspension-aware and the suspension-oblivious analysis is that, under the suspension-aware analysis, suspensions are specifically considered in the task model as well as in the schedulability analysis. These works on conducting suspension-aware analysis techniques for soft real-time suspending task systems on multiprocessors are mainly done by Liu and Anderson~\cite{Liu3,Liu4,Liu5,Liu9,Liu11}. The main idea behind these techniques is that treating all suspensions as computation is pessimistic, instead, smartly treating a selective minimum set of suspensions as computation can significantly reduce the pessimism in the schedulability analysis. This is also the main reason why these techniques can significantly improve the suspension-oblivious approach in most cases.

In 2009, Liu and Anderson derived the first such schedulability test~\cite{Liu3}, where they showed that in preemptive sporadic systems, bounded tardiness can be ensured by developing suspension-aware analysis under global EDF scheduling and global first-in-first-out (FIFO) scheduling. Specifically it is shown in \cite{Liu3} that tardiness in such a system is bounded provided 
\begin{equation}\label{eq:constraint} U_{sum}^s + U_L^c < (1-\xi_{max}) \cdot M , \end{equation}
where $U_{sum}^s$ is the total utilization of all self-suspending tasks, $c$ is the number of computational tasks (which do not self-suspend), $M$ is the number of processors, $U_L^c$ is the sum of the $\min(M-1,c)$ largest computational task utilizations, and $\xi_{max}$ is a parameter ranging over $[0,1]$ called the \textit{maximum suspension ratio}, which is defined to be the maximum value among all tasks' suspension ratios. For any task $\tau_i$, its suspension ratio, denoted $\xi_i$, is defined to be $\xi_i = \dfrac{S_i}{S_i+C_i}$, where $S_i$ is the suspension length of task $\tau_i$ and $C_i$ is its execution cost.  Significant utilization loss may occur when using (\ref{eq:constraint}) if $\xi_{max}$ is large. Unfortunately, it is unavoidable that many self-suspending task systems will have large $\xi_{max}$ values. For example, consider an implicit-deadline soft real-time task system with three tasks scheduled on two processors: $\tau_1$ has $C_1=5, S_1=5$, and a $T_1=10$, $\tau_2$ has $C_2=2, S_2=0$, and $T_2=8$, and $\tau_3$ has $C_3=2, S_3=2$, and $T_3=8$. For this system, $U_{sum}^s = U_1+U_3= \dfrac{5}{10} + \dfrac{2}{8} = 0.75$, $U_L^c = U_2 = \dfrac{2}{8} = 0.25$, $\xi_{max} = \xi_1 = \dfrac{5}{5+5} = 0.5$. Although the total utilization of this task system is only half of the overall processor capacity, it is not schedulable using the prior analysis since it violates the utilization constraint in (\ref{eq:constraint}) (since $U_{sum}^s+U_L^c =1=(1-\xi_{max}) \cdot M$).

In a follow-up work \cite{Liu5}, by observing that the utilization loss seen in (\ref{eq:constraint}) is mainly caused by a large value of $\xi_{max}$, Liu and Anderson presented a technique that can effectively decrease the value of this parameter, thus increasing schedulability. 
% They show that this can be done by treating \textit{partial} suspensions as computation. That is, they consider intermediate choices between the two currently-available extremes of treating \textit{all} (as is commonly done) or \textit{no} (using the analysis in ???Liu093) suspensions as computation. 
This approach is often able to decrease $\xi_{max}$ at the cost of at most a slight increase in the left side of (\ref{eq:constraint}). 
% The authors present both a linear programming solution for determining how much suspension time to be treated as computation as well as an optimal algorithm that runs in $O((N^s)^2)$ time, where $N^s$ is the number of self-suspending tasks. The authors analyze the schedulability improvement brought by the proposed approach via an experimental study involving randomly-generated task systems. In all scenarios considered in this study, this approach was able to improve schedulability, and in most scenarios, by a substantial margin. 
In \cite{Liu4}, Liu and Anderson  showed that any task system with self-suspensions, pipelines, and
non-preemptive sections can be transformed for analysis purposes into a system with only self-suspensions \cite{Liu4}. The transformation process treats delays caused by pipeline-based precedence constraints and non-preemptivity as self-suspension delays.
In \cite{Liu9,Liu11}, Liu and Anderson derived the first soft real-time schedulability test for suspending task systems that analytically dominates the suspension-oblivious approach.
 % Specifically, they show that an $O(M)$ utilization loss (where $M$ is the number of processors) can be achieved under a new suspension-aware analysis technique. 



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "JRTS/JRTS.tex"
%%% End:


  